

<div class="watch-main" *ngIf="matchState">
  <div>
    <app-clock class="clock"
      [matchState]="matchState"
    ></app-clock>

    <app-arena
      [gameDefinition]="gameDefinition"
      [matchStateSubject]="matchStateSubject"
      [debug]="false"
      [currentLuchador]="luchador.id"
    ></app-arena>
    <button (click)="toggleCode()" class="btn btn-primary float-left"
    [@slideInOut]="{value: codeState, params:{inVal:'400%', outVal:0}}">
      <span>toggle code</span>
    </button>
    <button (click)="toggleScore()" class="btn btn-primary float-right" 
    [@slideInOut]="{value: scoreState, params:{inVal:'-365%', outVal:0}}">
      <span>toggle score</span>
    </button>
    <!-- Should make this its own component too? -->
    <div class="message-area">
      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col">Type</th>
            <th scope="col">Message</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let msg of getUserMessages()" >
            <td [style.background-color]="msg.color">{{msg.type}}</td>
            <td [style.background-color]="msg.color">{{msg.message}}</td>
          </tr> 
        </tbody>
      </table>
    </div>
  </div>

  <app-code-editor-panel class="code-editor-panel"
  [@slideInOut]="{value: codeState, params:{inVal:'100%', outVal:0}}">
  </app-code-editor-panel>
  
  <app-score class="score"
    [@slideInOut]="scoreState"
    [matchStateSubject]="matchStateSubject"
  ></app-score>

</div>
